from qiskit import QuantumCircuit
from qiskit_aer import Aer
from qiskit import transpile
from qiskit.visualization import plot_histogram
import matplotlib.pyplot as plt

# Create a 2-qubit quantum circuit
qc = QuantumCircuit(2, 2)

# Apply Hadamard gate to qubit 0
qc.h(0)

# Apply CNOT gate (control=0, target=1)
qc.cx(0, 1)

# Measure qubits
qc.measure([0, 1], [0, 1])

# Use Aer simulator
simulator = Aer.get_backend('aer_simulator')

# Transpile circuit for simulator
compiled_circuit = transpile(qc, simulator)

# Run simulation
job = simulator.run(compiled_circuit, shots=1024)
result = job.result()

# Get counts
counts = result.get_counts()

print("Measurement Results:", counts)

# Plot results
plot_histogram(counts)
plt.show()
